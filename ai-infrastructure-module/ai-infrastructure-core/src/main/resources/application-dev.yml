# Development Configuration - Vector Database
# Development configuration
ai:
  pii-detection:
    enabled: false
    mode: PASS_THROUGH
    store-encrypted-original: false

  # Smart suggestions configuration enables proactive follow-ups in dev.
  smart-suggestions:
    enabled: true
    min-confidence: 0.70
    primary-confidence: 0.85
    retrieval-limit: 3
    retrieval-threshold: 0.55

  response-sanitization:
    enabled: true
    force-redaction: true
    suggestion-limit: 3
    medium-risk-warning-message: "Some personal details were hidden before presenting this response."
    warning-enabled: true
    warning-level-high-risk: BLOCK
    warning-level-medium-risk: WARN
    guidance-enabled: true
    guidance-message: "Avoid sharing card numbers or sensitive identifiers in chat."
    include-suggestion-metadata: true
    publish-events: true

  intent-history:
    enabled: true
    retention-days: 30
    cleanup-cron: "0 0 * * * *"
    store-encrypted-query: false

  providers:
    llm-provider: ${LLM_PROVIDER:openai}
    embedding-provider: onnx
    enable-fallback: true

    onnx:
      enabled: true
      model-path: ${ONNX_MODEL_PATH:classpath:/models/embeddings/all-MiniLM-L6-v2.onnx}
      tokenizer-path: ${ONNX_TOKENIZER_PATH:classpath:/models/embeddings/tokenizer.json}
      max-sequence-length: 512
      use-gpu: false
      model-alias: all-MiniLM-L6-v2

    openai:
      enabled: ${OPENAI_ENABLED:false}
      api-key: ${OPENAI_API_KEY:}
      model: gpt-4o-mini
      embedding-model: text-embedding-3-small
      max-tokens: 2000
      temperature: 0.3
      timeout: 60
      priority: 100

  vector-db:
    type: lucene
    lucene:
      indexPath: "./data/lucene-vector-index"
      similarityThreshold: 0.7
      maxResults: 100
      createIndexIfNotExists: true
      analyzer: "standard"
      useCompoundFile: true
      maxBufferedDocs: 1000

# Logging configuration for development
logging:
  level:
    com.ai.infrastructure.rag: DEBUG
    com.ai.infrastructure.service.VectorManagementService: DEBUG
    com.ai.infrastructure.service.AICapabilityService: DEBUG