spring:
  liquibase:
    enabled: true
    change-log: classpath:db/changelog/db.changelog-master.yaml
    liquibase-schema: public
  datasource:
    hikari:
      maximum-pool-size: 10
      minimum-idle: 2
      connection-timeout: 30000
      idle-timeout: 600000
  cache:
    type: simple
  redis:
    host: localhost
    port: 6379
    timeout: 1500
    lettuce:
      shutdown-timeout: 100ms

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      probes:
        enabled: true
  metrics:
    tags:
      application: behavior-module

ai:
  behavior:
    enabled: true
    events:
      batch-size: 100
      processing-timeout-seconds: 30
      storage-type: postgresql
    processing:
      analyzer:
        engagement-threshold: 0.75
        recency-threshold: 0.6
        enable-ai-enrichment: true
      worker:
        pool-size: 5
        delay-seconds: 300
        max-retries: 3
    retention:
      temp-events-ttl-days: 30
      insight-retention-days: 90
      cleanup-schedule: "0 3 * * *"
    search:
      orchestrated:
        enabled: true
        pii-detection-enabled: true
        max-results: 100
        timeout-seconds: 30
        rate-limit:
          per-user: "100/hour"
          per-endpoint: "1000/hour"
      security:
        rate-limiting:
          enabled: true
          requests: 100
          refresh-period: PT1H
